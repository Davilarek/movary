{% extends 'base.html.twig' %}

{% block title %}
    Dashboard
{% endblock %}

{% block stylesheets %}
    <link href="/css/dashboard.css" rel="stylesheet">
{% endblock %}

{% block scripts %}
    <script src="/js/dashboard.js"></script>
    <script src="/js/user-select.js"></script>
{% endblock %}

{% block body %}
    <main role="main" class="container">
        {{ include('component/navbar.html.twig') }}
        <div style="text-align: center;padding-bottom: 1rem">
            {{ include('component/user-select.html.twig') }}

            <h2 style="padding-bottom: 0.5rem">Overview</h2>
            <div class="row justify-content-md-center {{ theme == 'dark' ? 'text-light' : 'text-dark' }} theme-text-color">
                <div class="col ">
                    <span class="stat-value">{{ totalPlayCount }}</span><br><span class="stat-description">TOTAL PLAYS</span>
                </div>
                <div class="col ">
                    <span class="stat-value">{{ uniqueMoviesCount }}</span><br><span class="stat-description">UNIQUE MOVIES</span>
                </div>
                <div class="col">
                    <span class="stat-value">{{ totalHoursWatched }}</span><br><span class="stat-description font-weight-light">HOURS WATCHED</span>
                </div>
            </div>
            <br>
            <div class="row justify-content-md-center {{ theme == 'dark' ? 'text-light' : 'text-dark' }} theme-text-color">
                <div class="col ">
                    <span class="stat-value">{{ averagePlaysPerDay }}</span><br><span class="stat-description">PLAYS PER DAY</span>
                </div>
                <div class="col ">
                    <span class="stat-value">{{ averageRuntime }}</span><br><span class="stat-description">AVERAGE RUNTIME</span>
                </div>
                <div class="col ">
                    <span class="stat-value">{{ averagePersonalRating }}</span><br><span class="stat-description">AVERAGE RATING</span>
                </div>
            </div>

            <br>

            <div class="list-group">
                {% for row in rowOrder %}
                {% if row == 'Last Plays' %}
                    {% import 'component/dashboard/row-last-plays.html.twig' as dashboardLastPlays %}
                    {{ dashboardLastPlays.create(row in extendedRows, lastPlays, routeUsername) }}
                {% elseif row == 'Most Watched Actors' %}
                    {% import "component/dashboard/row-most-watched-actors.html.twig" as dashboardMostWatchedActors %}
                    {{ dashboardMostWatchedActors.create(row in extendedRows, mostWatchedActors, routeUsername) }}
                {% elseif row == 'Most Watched Actresses' %}
                    {% import "component/dashboard/row-most-watched-actresses.html.twig" as dashboardMostWatchedActresses %}
                    {{ dashboardMostWatchedActresses.create(row in extendedRows, mostWatchedActresses, routeUsername) }}
                {% elseif row == 'Most Watched Directors' %}
                    {% import "component/dashboard/row-most-watched-directors.html.twig" as dashboardMostWatchedDirectors %}
                    {{ dashboardMostWatchedDirectors.create(row in extendedRows, mostWatchedDirectors, routeUsername) }}
                {% elseif row == 'Most Watched Genres' %}
                    {% import "component/dashboard/row-most-watched-genres.html.twig" as dashboardMostWatchedGenres %}
                    {{ dashboardMostWatchedGenres.create(row in extendedRows, mostWatchedGenres, routeUsername) }}
                {% elseif row == 'Most Watched Languages' %}
                    {% import "component/dashboard/row-most-watched-languages.html.twig" as dashboardMostWatchedLanguages %}
                    {{ dashboardMostWatchedLanguages.create(row in extendedRows, mostWatchedLanguages, routeUsername) }}
                {% elseif row == 'Most Watched Production Companies' %}
                    {% import "component/dashboard/row-most-watched-production-companies.html.twig" as dashboardMostWatchedProductionCopmanies %}
                    {{ dashboardMostWatchedProductionCopmanies.create(row in extendedRows, mostWatchedProductionCompanies, routeUsername) }}
                {% elseif row == 'Most Watched Release Years' %}
                    {% import "component/dashboard/row-most-watched-release-year.html.twig" as dashboardMostWatchedProductionCopmanies %}
                    {{ dashboardMostWatchedProductionCopmanies.create(row in extendedRows, mostWatchedProductionCompanies, routeUsername) }}

                {% endif %}
                {% endfor %}
            </div>
        </div>
    </main>
{% endblock %}
